<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Songs from the Shuttered</title>

<style>
:root{
  --bg:#0f1113;
  --card:#0b0c0d;
  --muted:#9aa0a6;
  --accent:#e6e6e6;
  --gap:18px;
  --rows:4;
  --row-height:190px;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}

html,body{height:100%}
body{
  margin:0;
  background:linear-gradient(180deg,#070708,#0f1113);
  color:var(--accent);
  padding:36px;
  display:flex;
  justify-content:center;
}

.wrap{width:100%;max-width:1200px}

header{
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:18px;
  margin-bottom:30px;
}

h1{margin:0;font-weight:600}
p.lead{margin:4px 0 0;color:var(--muted)}

button{
  background:transparent;
  border:1px solid rgba(255,255,255,.1);
  color:var(--accent);
  padding:8px 14px;
  border-radius:6px;
  cursor:pointer;
}

/* -------- GALLERY -------- */
.gallery-scroll{
  overflow-x:auto;
  margin-bottom:60px;
}

.grid{
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:minmax(220px,1fr);
  grid-template-rows:repeat(var(--rows), var(--row-height));
  gap:var(--gap);
}

figure{
  margin:0;
  background:rgba(255,255,255,.02);
  border-radius:8px;
  overflow:hidden;
  cursor:pointer;
  transition:.2s;
  display:flex;
  flex-direction:column;
}

figure:hover{transform:translateY(-6px)}

.thumb{flex:1;position:relative;background:#000}
.thumb img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
}

figcaption{
  padding:10px 12px;
  font-size:.9rem;
  color:var(--muted);
  border-top:1px solid rgba(255,255,255,.05);
}

/* -------- MODALS -------- */
.modal{
  position:fixed;
  inset:0;
  display:none;
  background:rgba(0,0,0,.9);
  align-items:center;
  justify-content:center;
  z-index:1000;
  padding:20px;
}

.modal.open{display:flex}

.modal-content{
  background:var(--card);
  border-radius:12px;
  width:95%;
  max-width:1100px;
  max-height:95vh;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

/* IMAGE MODAL */
.modal-img{
  width:100%;
  max-height:65vh;
  object-fit:contain;
  background:#000;
}

.audio-container{
  padding:20px;
  background:#16181a;
  display:flex;
  flex-direction:column;
  gap:10px;
}

audio{width:100%}

/* PDF MODAL */
.pdf-frame{
  width:100%;
  height:80vh;
  border:none;
  background:#000;
}

.modal-footer{
  padding:15px;
  border-top:1px solid rgba(255,255,255,.05);
  display:flex;
  justify-content:flex-end;
}

@media(max-width:640px){
  :root{--row-height:120px}
  .grid{grid-auto-columns:minmax(140px,1fr)}
}
</style>
</head>

<body>
<div class="wrap">

<header>
  <div>
    <h1>Songs from the Shuttered</h1>
    <p class="lead">Fine art project dedicated to songs</p>
  </div>
  <div style="display:flex;gap:10px">
    <button id="bookBtn">Read Book</button>
    <button id="aboutBtn">About</button>
    <button id="contactBtn">Contact</button>
  </div>
</header>

<main>
  <div class="gallery-scroll">
    <section class="grid" id="gallery"></section>
  </div>
</main>
</div>

<!-- IMAGE + AUDIO MODAL -->
<div id="imageModal" class="modal">
  <div class="modal-content">
    <img id="modalImg" class="modal-img">
    <div class="audio-container">
      <div id="nowPlaying"></div>
      <audio id="audioPlayer" controls>
        <source id="audioSource" src="" type="audio/mpeg">
      </audio>
    </div>
    <div class="modal-footer">
      <button onclick="closeImage()">Close</button>
    </div>
  </div>
</div>

<!-- PDF MODAL -->
<div id="pdfModal" class="modal">
  <div class="modal-content">
    <iframe
      class="pdf-frame"
      src="RECORD.pdf"
      title="Songs from the Shuttered â€“ Book">
    </iframe>
    <div class="modal-footer">
      <button onclick="closePDF()">Close</button>
    </div>
  </div>
</div>

<script>
const images=[
  "Her lies.jpg","The Power of love.jpg","Hallowed be thy name.jpg","society.jpg",
  "Fake Empire.jpg","Where to now St. Peter.jpg","After the gold rush.jpg","Mercy Seat.jpg",
  "I am waiting for my man.jpg","Weak.jpg","Cortez the killer.jpg","Flume.jpg",
  "Hey Joe.jpg","The good son.jpg","One more cup of coffee.jpg","Lost in the flood.jpg"
];

const gallery=document.getElementById("gallery");
const imageModal=document.getElementById("imageModal");
const modalImg=document.getElementById("modalImg");
const audioPlayer=document.getElementById("audioPlayer");
const audioSource=document.getElementById("audioSource");
const nowPlaying=document.getElementById("nowPlaying");
const pdfModal=document.getElementById("pdfModal");

const caption=n=>n.replace(/\.[^.]+$/,"");

images.forEach(n=>{
  const f=document.createElement("figure");
  f.innerHTML=`<div class="thumb"><img src="images/${encodeURI(n)}"></div><figcaption>${caption(n)}</figcaption>`;
  f.onclick=()=>{
    modalImg.src="images/"+encodeURI(n);
    audioSource.src="music/"+encodeURI(caption(n))+".mp3";
    nowPlaying.textContent=caption(n);
    audioPlayer.load();
    imageModal.classList.add("open");
  };
  gallery.appendChild(f);
});

function closeImage(){
  imageModal.classList.remove("open");
  audioPlayer.pause();
  audioPlayer.currentTime=0;
}

function closePDF(){
  pdfModal.classList.remove("open");
}

document.getElementById("bookBtn").onclick=()=>{
  pdfModal.classList.add("open");
};

document.getElementById("aboutBtn").onclick=()=>{
  alert("Songs from the Shuttered is a fine-art photographic series co-created over the past decade with photographer Maxim Golovanov. The project consists of sixteen meticulously staged photographs, each conceived as a visual interpretation of an iconic song. The series draws deliberate parallels between contemporary music lyrics and the symbolic language of art history. ");
};

document.getElementById("contactBtn").onclick=()=>{
  alert("Contact: tomer.jacobson@gmail.com");
};
</script>
</body>
</html>
