<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Songs from the Shuttered â€” Gallery</title>

  <style>
    :root{
      --bg:#0f1113;
      --card:#0b0c0d;
      --muted:#9aa0a6;
      --accent:#e6e6e6;
      --gap:18px;
      --rows:4;
      --row-height:190px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }

    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,#070708 0%, #0f1113 100%);
      color:var(--accent);
      padding:36px;
      display:flex;
      justify-content:center;
    }

    .wrap{
      width:100%;
      max-width:1200px;
    }

    header{
      margin-bottom:18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
      flex-wrap:wrap;
    }

    h1{margin:0;font-weight:600}
    p.lead{margin:0;color:var(--muted);font-size:0.95rem}

    .close-btn{
      background:transparent;
      border:1px solid rgba(255,255,255,0.08);
      color:var(--accent);
      padding:8px 14px;
      border-radius:6px;
      cursor:pointer;
      font-size:0.9rem;
    }

    .grid{
      display:grid;
      grid-auto-flow:column;
      grid-auto-columns:minmax(220px,1fr);
      grid-template-rows:repeat(var(--rows), var(--row-height));
      gap:var(--gap);
    }

    figure{
      margin:0;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:8px;
      overflow:hidden;
      box-shadow:0 6px 18px rgba(2,6,10,0.6);
      cursor:pointer;
      transition:transform 160ms ease, box-shadow 160ms ease;
      display:flex;
      flex-direction:column;
    }

    figure:hover{
      transform:translateY(-6px);
      box-shadow:0 18px 36px rgba(2,6,10,0.7);
    }

    .thumb{flex:1;position:relative;background:#000}
    .thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}

    figcaption{
      padding:10px 12px;
      font-size:0.9rem;
      color:var(--muted);
      border-top:1px solid rgba(255,255,255,0.03);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(2,4,6,0.8);
      z-index:1000;
      padding:24px;
    }
    .modal.open{display:flex}

    .modal-content{
      max-width:92%;
      max-height:92%;
      background:var(--card);
      border-radius:8px;
      overflow:hidden;
      box-shadow:0 30px 80px rgba(2,4,6,0.7);
      display:flex;
      flex-direction:column;
    }

    .modal-img{
      width:100%;
      height:calc(92vh - 120px);
      object-fit:contain;
      background:#000;
    }

    .modal-footer{
      padding:12px 14px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    .contact-body{
      padding:18px;
      min-width:320px;
      max-width:720px;
    }

    .email-list{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-top:10px;
    }

    .email-row{
      display:flex;
      gap:12px;
      align-items:center;
    }

    .email-text{
      flex:1;
      background:rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.04);
      padding:12px 14px;
      border-radius:8px;
      font-family:ui-monospace, monospace;
      font-size:1rem;
      overflow-wrap:anywhere;
    }

    .email-actions{white-space:nowrap}

    @media(max-width:640px){
      :root{--row-height:120px}
      .grid{grid-auto-columns:minmax(140px,1fr)}
      .email-row{flex-direction:column;align-items:flex-start}
    }
  </style>
</head>

<body>
<div class="wrap">
<header>
  <div>
    <h1>Songs from the Shuttered</h1>
    <p class="lead">Fine art project dedicated to songs.</p>
  </div>
  <div style="display:flex;gap:10px">
    <button id="bookBtn" class="close-btn">Read Book</button>
    <button id="aboutBtn" class="close-btn">About</button>
    <button id="contactBtn" class="close-btn">Contact</button>
  </div>
</header>

<main>
  <section class="grid" id="gallery"></section>
</main>
</div>

<!-- Image Modal -->
<div id="modal" class="modal">
  <div class="modal-content">
    <img id="modalImg" class="modal-img">
    <div class="modal-footer">
      <div id="modalCaption"></div>
      <button class="close-btn" id="closeImg">Close</button>
    </div>
  </div>
</div>

<!-- About Modal -->
<div id="aboutModal" class="modal">
  <div class="modal-content">
    <div style="padding:20px">
      <h2>About</h2>
      <p>
        Created by Tomer Jacobson & Maxim Golovanov.<br>
        A fusion of visual art and music exploring song lyrics.
      </p>
      <button class="close-btn" id="aboutClose">Close</button>
    </div>
  </div>
</div>

<!-- Contact Modal -->
<div id="contactModal" class="modal">
  <div class="modal-content">
    <div class="contact-body">
      <h2>Contact</h2>
      <p style="color:var(--muted)">For inquiries or press:</p>
      <div id="emailsList" class="email-list"></div>
      <div style="text-align:right;margin-top:12px">
        <button class="close-btn" id="contactClose">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
const images=[
  "Her lies.jpg","The Power of love.jpg","Hallowed be thy name.jpg","society.jpg",
  "Fake Empire.jpg","Where to now St. Peter.jpg","After the gold rush.jpg","Mercy Seat.jpg",
  "I am waiting for my man.jpg","Weak.jpg","Cortez the killer.jpg","Flume.jpg",
  "Hey Joe.jpg","The good son.jpg","One more cup of coffee.jpg","Lost in the flood.jpg"
];

const CONTACT_EMAILS=[
  "tomer.jacobson@gmail.com",
  "maxim.golovanov.1990@gmail.com"
];

const gallery=document.getElementById("gallery");
const modal=document.getElementById("modal");
const modalImg=document.getElementById("modalImg");
const modalCaption=document.getElementById("modalCaption");

function caption(name){return name.replace(/\.[^.]+$/,"");}

images.forEach(n=>{
  const f=document.createElement("figure");
  f.innerHTML=`
    <div class="thumb"><img src="images/${encodeURI(n)}"></div>
    <figcaption>${caption(n)}</figcaption>`;
  f.onclick=()=>{
    modalImg.src="images/"+encodeURI(n);
    modalCaption.textContent=caption(n);
    modal.classList.add("open");
  };
  gallery.appendChild(f);
});

document.getElementById("closeImg").onclick=()=>modal.classList.remove("open");
modal.onclick=e=>e.target===modal&&modal.classList.remove("open");

document.getElementById("aboutBtn").onclick=()=>aboutModal.classList.add("open");
document.getElementById("aboutClose").onclick=()=>aboutModal.classList.remove("open");
aboutModal.onclick=e=>e.target===aboutModal&&aboutModal.classList.remove("open");

document.getElementById("bookBtn").onclick=()=>window.open("SFTS.pdf","_blank");

function renderEmails(){
  emailsList.innerHTML="";
  CONTACT_EMAILS.forEach(email=>{
    const row=document.createElement("div");
    row.className="email-row";
    row.innerHTML=`
      <div class="email-text">${email}</div>
      <div class="email-actions">
        <button class="close-btn">Copy</button>
      </div>`;
    row.querySelector("button").onclick=async()=>{
      await navigator.clipboard.writeText(email);
      alert("Email copied");
    };
    emailsList.appendChild(row);
  });
}

contactBtn.onclick=()=>{
  renderEmails();
  contactModal.classList.add("open");
};
contactClose.onclick=()=>contactModal.classList.remove("open");
contactModal.onclick=e=>e.target===contactModal&&contactModal.classList.remove("open");

document.addEventListener("keydown",e=>{
  if(e.key==="Escape"){
    modal.classList.remove("open");
    aboutModal.classList.remove("open");
    contactModal.classList.remove("open");
  }
});
</script>
</body>
</html>
