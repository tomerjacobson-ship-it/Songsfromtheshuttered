<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Songs from the Shuttered</title>

<style>
:root{
  --bg:#0f1113;
  --card:#0b0c0d;
  --muted:#9aa0a6;
  --accent:#e6e6e6;
  --gap:18px;
  --row-height:280px;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}

html,body{height:100%; margin:0;}
body{
  background:linear-gradient(180deg,#070708,#0f1113);
  color:var(--accent);
  padding:40px 20px;
  display:flex;
  flex-direction:column;
  align-items:center;
}

.wrap{width:100%;max-width:1200px}

/* ---------- HEADER ---------- */
header{
  display:flex;
  justify-content:space-between;
  align-items: flex-start;
  flex-wrap:wrap;
  gap:20px;
  margin-bottom:40px;
}

h1{margin:0;font-weight:600; font-size: 2.2rem; letter-spacing: -0.5px;}
p.lead{margin:6px 0 0;color:var(--muted);max-width:520px; font-size: 1.1rem;}

button, .cta-btn, .pdf-link-btn{
  background:transparent;
  border:1px solid rgba(255,255,255,.2);
  color:var(--accent);
  padding:12px 20px;
  border-radius:6px;
  cursor:pointer;
  transition: all 0.2s;
  text-decoration: none;
  display: inline-block;
  font-size: 1rem;
  text-align: center;
}

button:hover { background: rgba(255,255,255,0.05); border-color: var(--accent); }

/* ---------- INTRO SECTION ---------- */
.project-intro {
  max-width: 850px;
  margin: 20px 0 60px 0;
  line-height: 1.8;
  font-size: 1.15rem;
  color: var(--muted);
  border-left: 2px solid rgba(255,255,255,0.1);
  padding-left: 24px;
}

.project-intro strong {
  color: var(--accent);
  font-weight: 500;
}

/* ---------- GALLERY ---------- */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap:var(--gap);
  margin-bottom: 80px;
}

figure{
  margin:0; background:rgba(255,255,255,.02); border-radius:8px;
  overflow:hidden; cursor:pointer; transition:.4s cubic-bezier(0.165, 0.84, 0.44, 1);
  display:flex; flex-direction:column; height: var(--row-height);
  border: 1px solid rgba(255,255,255,0.05);
}

figure:hover { transform: translateY(-10px); border-color: rgba(255,255,255,0.2); }

.thumb{flex:1;position:relative;background:#000;}
.thumb img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover;}

figcaption{padding:14px; font-size:.9rem; color:var(--muted); border-top:1px solid rgba(255,255,255,.05); background: #0c0e10;}

/* ---------- BOOK SECTION ---------- */
.book-section {
  width: 100%; margin-bottom: 80px; border-radius: 12px; overflow: hidden;
  position: relative; background: #000; border: 1px solid rgba(255,255,255,0.1);
}
.book-hero {
  width: 100%; height: 400px; background: url('images/Lost in the flood.jpg') center/cover no-repeat;
  display: flex; align-items: center; justify-content: center; position: relative;
}
.book-hero::after { content: ''; position: absolute; inset: 0; background: rgba(0,0,0,0.7); }
.book-content { position: relative; z-index: 2; text-align: center; padding: 20px; }
.book-content h2 { font-size: 2.2rem; margin-bottom: 10px; }

/* ---------- BTS ---------- */
.video-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:18px; margin-bottom: 80px;}
.video-card{ aspect-ratio:16/9; background:#000; border-radius:10px; overflow:hidden; border: 1px solid rgba(255,255,255,.06); position: relative;}
.video-card iframe, .video-card img{ width:100%; height:100%; border:0; object-fit:cover; }

/* ---------- MODALS ---------- */
.modal{
  position:fixed; inset:0; display:none; background:rgba(0,0,0,.96);
  align-items:center; justify-content:center; z-index:9999;
  padding:15px;
}
.modal.open{display:flex}

.modal-content{
  background:var(--card); border-radius:12px; width:100%;
  max-width:850px; max-height:92vh; overflow-y:auto;
  display:flex; flex-direction:column; position:relative;
}

.modal-img{ width:100%; height:auto; max-height:65vh; object-fit:contain; background:#000; }
.audio-container{ padding:20px; background:#16181a; border-top: 1px solid rgba(255,255,255,0.05); }
#nowPlaying { margin-bottom: 12px; font-weight: bold; display: block; color: var(--accent); }
audio{ width:100%; height: 40px; }

.modal-footer{
  padding:20px; border-top:1px solid rgba(255,255,255,.1);
  display:flex; flex-direction: column; gap: 10px; align-items: center; background: var(--card);
}

.close-btn {
  background: #2a2d30; color: #fff; border: none; padding: 14px 24px; border-radius: 6px; cursor: pointer; width: 100%; font-weight: 500;
}
.pdf-link-btn {
  background: var(--accent); color: #000; font-weight: bold; border: none; width: 100%;
}

/* ---------- MOBILE ---------- */
@media(max-width:640px){
  :root{--row-height:190px}
  body { padding: 30px 15px; }
  header { flex-direction: column; align-items: flex-start; }
  h1 { font-size: 1.8rem; }
  .project-intro { font-size: 1.05rem; padding-left: 15px; }
  .grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
  .book-hero { height: 320px; }
  .pdf-frame { display: none; } 
}

@media(min-width:641px){
    .pdf-frame { width:100%; height:75vh; border:none; display: block; }
}
</style>
</head>

<body>
<div class="wrap">
  <header>
    <div>
      <h1>Songs from the Shuttered</h1>
      <p class="lead">A fine-art photographic project dedicated to music </p>
    </div>
    <div style="display:flex;gap:10px">
      <button onclick="openPDF()">Read Book</button>
      <button id="contactBtn">Contact</button>
    </div>
  </header>

  <section class="project-intro">
    <p>
      <strong>Songs from the Shuttered</strong> is a fine-art photographic series co-created over the past decade By Tomer Jacobson and Maxim Golovanov. 
      The project consists of sixteen meticulously staged photographs, each conceived as a visual interpretation of an iconic song. 
      The series draws deliberate parallels between contemporary music lyrics and the symbolic language of art history, referencing canonical works and figures such as Leonardo da Vinci, Bernini, Picasso, and more.
    </p>
  </section>

  <section class="grid" id="gallery"></section>

  <section class="book-section">
    <div class="book-hero">
      <div class="book-content">
        <h2>SFTS-The Book</h2>
        <p>Explore the full narrative stories and classic references.</p>
        <button class="cta-btn" onclick="openPDF()" style="background:var(--accent);color:#000;font-weight:bold;">Open Digital Book</button>
      </div>
    </div>
  </section>

  <section class="bts">
    <h2 style="margin-bottom:20px; font-weight: 500;">Behind the Scenes</h2>
    <div class="video-grid">
      <div class="video-card" onclick="window.open('https://www.facebook.com/reel/1301237869897120','_blank')" style="cursor:pointer">
        <img src="images/Mercy Seat.jpg" alt="Behind the scenes reel">
        <div style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:2rem;background:rgba(0,0,0,.3)">â–¶</div>
      </div>
      <div class="video-card"><iframe src="https://www.youtube.com/embed/x_eCq8PWFlg" allowfullscreen></iframe></div>
      <div class="video-card"><iframe src="https://www.youtube.com/embed/Mjla2uB-aRo" allowfullscreen></iframe></div>
      <div class="video-card"><iframe src="https://www.youtube.com/embed/Lzurm2v99FY" allowfullscreen></iframe></div>
    </div>
  </section>
</div>

<div id="imageModal" class="modal">
  <div class="modal-content">
    <img id="modalImg" class="modal-img">
    <div class="audio-container">
      <span id="nowPlaying"></span>
      <audio id="audioPlayer" controls><source id="audioSource" src="" type="audio/mpeg"></audio>
    </div>
    <div class="modal-footer">
      <button class="close-btn" onclick="closeImage()">CLOSE PLAYER</button>
    </div>
  </div>
</div>

<div id="pdfModal" class="modal">
  <div class="modal-content">
    <iframe class="pdf-frame" src="RECORD.pdf"></iframe>
    <div class="modal-footer">
        <p style="font-size: 0.85rem; text-align: center; color: var(--muted); margin: 0 0 5px 0;">On mobile? Use the button below to scroll through the book.</p>
        <a href="RECORD.pdf" target="_blank" class="pdf-link-btn">OPEN FULL BOOK (PDF)</a>
        <button class="close-btn" onclick="closePDF()">CLOSE WINDOW</button>
    </div>
  </div>
</div>

<div id="contactModal" class="modal">
  <div class="modal-content">
    <div style="padding:40px; text-align:center;">
      <h3 style="margin-top:0">Contact</h3>
      <p style="color: var(--muted)">tomer.jacobson@gmail.com</p>
      <button class="pdf-link-btn" onclick="closeContact()">CLOSE</button>
    </div>
  </div>
</div>

<script>
const images=["Her lies.jpg","The Power of love.jpg","Hallowed.jpg","society.jpg","Fake Empire.jpg","Peter.jpg","After the gold rush.jpg","Mercy Seat.jpg","I am waiting for my man.jpg","Weak.jpg","Cortez the killer.jpg","Flume.jpg","Hey Joe.jpg","The good son.jpg","One more cup of coffee.jpg","Lost in the flood.jpg"];
const gallery=document.getElementById("gallery");
const imageModal=document.getElementById("imageModal");
const modalImg=document.getElementById("modalImg");
const audioPlayer=document.getElementById("audioPlayer");
const audioSource=document.getElementById("audioSource");
const nowPlaying=document.getElementById("nowPlaying");

const caption=n=>n.replace(/\.[^.]+$/,"");

images.forEach(n=>{
  const f=document.createElement("figure");
  f.innerHTML=`<div class="thumb"><img src="images/${encodeURI(n)}" loading="lazy"></div><figcaption>${caption(n)}</figcaption>`;
  f.onclick=()=>{
    modalImg.src="images/"+encodeURI(n);
    audioSource.src="music/"+encodeURI(caption(n))+".mp3";
    nowPlaying.textContent="Listen to: " + caption(n);
    audioPlayer.load();
    imageModal.classList.add("open");
    document.body.style.overflow = "hidden";
  };
  gallery.appendChild(f);
});

function closeImage(){ imageModal.classList.remove("open"); audioPlayer.pause(); document.body.style.overflow="auto"; }
function openPDF(){ document.getElementById("pdfModal").classList.add("open"); document.body.style.overflow="hidden"; }
function closePDF(){ document.getElementById("pdfModal").classList.remove("open"); document.body.style.overflow="auto"; }
function closeContact(){ document.getElementById("contactModal").classList.remove("open"); document.body.style.overflow="auto"; }

document.getElementById("contactBtn").onclick=()=> { document.getElementById("contactModal").classList.add("open"); document.body.style.overflow="hidden"; };

window.onclick=(e)=>{ if(e.target.classList.contains('modal')){ closeImage(); closePDF(); closeContact(); } };
</script>
</body>
</html>
